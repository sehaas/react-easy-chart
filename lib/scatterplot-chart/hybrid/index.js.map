{"version":3,"sources":["../../../modules/scatterplot-chart/hybrid/index.js"],"names":["dateParser","color","schemeCategory20","domain","axisMargin","ScatterplotChart","axes","PropTypes","bool","axisLabels","shape","x","string","y","clickHandler","func","config","array","data","isRequired","datePattern","yAxisOrientRight","dotRadius","number","verticalGrid","grid","height","useLegend","margin","object","mouseOverHandler","mouseOutHandler","mouseMoveHandler","style","tickTimeDisplayFormat","width","xDomainRange","yDomainRange","xTickNumber","yTickNumber","xTicks","yTicks","xType","yType","props","uid","initialise","ref","refs","scatterplotChart","transition","type","index","findIndex","item","configItem","getDataConfig","dataItem","z","mx","d","p","rad","stroke","selectAll","axisType","domainRange","length","dataIndex","axis","minAmount","maxAmount","parseDate","v","map","range","padding","ticks","spacer","top","right","bottom","left","w","m","h","tickFormat","tickSize","tickPadding","innerW","calculateChartParameters","initialiseXAxis","initialiseYAxis","initialiseChart","xAxis","getXAxis","call","yAxis","getYAxis","calculateDate","calculateR","getRadius","calculateCX","calculateCY","getFill","getStroke","mouseOver","lastEvent","mouseOut","mouseMove","click","circle","getCircles","enter","append","attr","on","transitionXAxis","transitionYAxis","transitionChart","duration","n","exit","remove","node","ReactFauxDOM","Element","setAttribute","innerH","root","label","group","text","scope","axisStyles","rules","defaultStyles","datePatternParser","calculateMargin","calculateInnerW","calculateInnerH","defaultXDomainRange","defaultYDomainRange","createDomainRangeGenerator","calculateXAxis","calculateYAxis","createSvgNode","createSvgRoot","createXAxis","createYAxis","createScatterplotChart","className","createStyle","toReact","PureComponent"],"mappings":"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","file":"index.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport {\n  scaleLinear as linear,\n  scalePoint as point\n} from 'd3-scale';\nimport {\n  event as lastEvent,\n  min,\n  max,\n  scaleOrdinal,\n  schemeCategory20,\n  range,\n  select,\n  axisBottom,\n  axisLeft,\n  axisRight,\n  scaleTime,\n  timeFormat\n} from 'd3';\nimport { timeParse as parse } from 'd3-time-format';\nimport { extent } from 'd3-array';\nimport ReactFauxDOM from 'react-faux-dom';\nimport PropTypes from 'prop-types';\nimport { Style } from 'radium';\nimport merge from 'lodash.merge';\nimport {\n  createUniqueID,\n  calculateDomainRange,\n  defaultStyles,\n  getAxisStyles,\n  createCircularTicks\n} from '../../shared';\n\nconst dateParser = {};\n\nconst color = scaleOrdinal(schemeCategory20).domain(range(0, 20));\n\nconst axisMargin = 18;\n\nexport default class ScatterplotChart extends PureComponent {\n  static get propTypes() {\n    return {\n      axes: PropTypes.bool,\n      axisLabels: PropTypes.shape({\n        x: PropTypes.string,\n        y: PropTypes.string\n      }),\n      clickHandler: PropTypes.func,\n      config: PropTypes.array,\n      data: PropTypes.array.isRequired,\n      datePattern: PropTypes.string,\n      yAxisOrientRight: PropTypes.bool,\n      dotRadius: PropTypes.number,\n      verticalGrid: PropTypes.bool,\n      grid: PropTypes.bool,\n      height: PropTypes.number,\n      useLegend: PropTypes.bool,\n      margin: PropTypes.object,\n      mouseOverHandler: PropTypes.func,\n      mouseOutHandler: PropTypes.func,\n      mouseMoveHandler: PropTypes.func,\n      style: PropTypes.object,\n      tickTimeDisplayFormat: PropTypes.string,\n      width: PropTypes.number,\n      xDomainRange: PropTypes.array,\n      yDomainRange: PropTypes.array,\n      xTickNumber: PropTypes.number,\n      yTickNumber: PropTypes.number,\n      xTicks: PropTypes.number,\n      yTicks: PropTypes.number,\n      xType: PropTypes.string,\n      yType: PropTypes.string\n    };\n  }\n\n  static get defaultProps() {\n    return {\n      axes: false,\n      axisLabels: {\n        x: '',\n        y: ''\n      },\n      clickHandler: () => {},\n      config: [],\n      datePattern: '%d-%b-%y',\n      dotRadius: 5,\n      grid: false,\n      mouseOverHandler: () => {},\n      mouseOutHandler: () => {},\n      mouseMoveHandler: () => {},\n      width: 320,\n      height: 180,\n      xType: 'linear',\n      yType: 'linear'\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.uid = createUniqueID(props);\n  }\n\n  componentDidMount() {\n    this.initialise();\n    const ref = this.refs.scatterplotChart;\n    createCircularTicks(ref);\n  }\n\n  componentDidUpdate() {\n    this.transition();\n    const ref = this.refs.scatterplotChart;\n    createCircularTicks(ref);\n  }\n\n  getScale(type) {\n    switch (type) {\n      case 'time':\n        return scaleTime();\n      case 'text':\n        return point();\n      default:\n        return linear();\n    }\n  }\n\n  getDataConfig(type) {\n    const {\n      config\n    } = this.props;\n\n    const index = config.findIndex((item) => item.type === type);\n    return config[index];\n  }\n\n  getFill(data) {\n    const configItem = this.getDataConfig(data.type);\n    return (configItem)\n      ? configItem.color\n      : color(data.type);\n  }\n\n  getRadius(data, dataItem, dotRadius) {\n    if (typeof data[0].z !== 'undefined') {\n      const mx = max(data, (d) => d.z);\n      const p = mx ? dataItem.z / mx : 0;\n      const rad = dotRadius * p;\n      return rad;\n    }\n    return dotRadius;\n  }\n\n  getStroke(data) {\n    const configItem = this.getDataConfig(data.type);\n    return (configItem)\n      ? configItem.stroke\n      : 'none'; // typeof configItem !== 'undefined' ? configItem.stroke : 'none';\n  }\n\n  getCircles() {\n    const uid = this.uid;\n    return select(`#scatterplot-chart-${uid}`)\n      .selectAll('circle'); // '.dot'\n  }\n\n  getXAxis() {\n    const uid = this.uid;\n    return select(`#scatterplot-x-axis-${uid}`);\n  }\n\n  getYAxis() {\n    const uid = this.uid;\n    return select(`#scatterplot-y-axis-${uid}`);\n  }\n\n  createDomainRangeGenerator(axisType, domainRange, data, type, length, yAxisOrientRight) {\n    const dataIndex =\n      (axisType === 'x')\n        ? 'x'\n        : 'y';\n\n    let axis;\n    let minAmount;\n    let maxAmount;\n\n    const parseDate = (v) => this.parseDate(v);\n\n    switch (type) {\n      case 'text':\n        axis = point();\n        axis\n          .domain(data.map((d) => d[dataIndex]), 1)\n          .range([0, length])\n          .padding(1);\n        break;\n      case 'linear':\n        axis = linear();\n        minAmount = min(data, (d) => d[dataIndex]);\n        maxAmount = max(data, (d) => d[dataIndex]);\n        if (domainRange) {\n          axis\n            .domain(domainRange); // calculateDomainRange(domainRange, type, parseDate));\n        } else {\n          // set initial domain\n          axis\n            .domain([minAmount, maxAmount]);\n          // calculate 1 tick offset\n          const ticks = axis.ticks();\n\n          minAmount =\n            (yAxisOrientRight && axisType === 'x')\n              ? minAmount\n              : minAmount - (ticks[1] - ticks[0]);\n\n          maxAmount =\n            (yAxisOrientRight && axisType === 'x')\n              ? maxAmount + (ticks[1] - ticks[0])\n              : maxAmount;\n\n          axis\n            .domain([minAmount, maxAmount]);\n        }\n        axis\n          .range(\n            (axisType === 'x')\n              ? [0, length]\n              : [length, 0]);\n        break;\n      case 'time':\n        axis = scaleTime();\n        axis\n          .domain(\n            (domainRange)\n              ? calculateDomainRange(domainRange)\n              : extent(data, (d) => parseDate(d[dataIndex])))\n          .range(\n            (axisType === 'x')\n              ? [0, length]\n              : [length, 0]);\n        break;\n      default:\n        break;\n    }\n    return axis;\n  }\n\n  calculateMargin(axes, spacer, yAxisOrientRight) {\n    if (yAxisOrientRight) {\n      return (axes)\n        ? { top: 24, right: 48, bottom: 24, left: 24 }\n        : { top: spacer, right: spacer, bottom: spacer, left: spacer };\n    }\n    return (axes)\n      ? { top: 24, right: 24, bottom: 24, left: 48 }\n      : { top: spacer, right: spacer, bottom: spacer, left: spacer };\n  }\n\n  calculateInnerW(w, m) {\n    return (w - (m.left + m.right));\n  }\n\n  calculateInnerH(h, m) {\n    const {\n      dotRadius\n    } = this.props;\n\n    return (h - (m.top + m.bottom + (dotRadius * 2)));\n  }\n\n  calculateXAxis({ h, x }) {\n    const {\n      xType,\n      tickTimeDisplayFormat,\n      xTickNumber,\n      grid,\n      verticalGrid,\n      xTicks\n    } = this.props;\n\n    const axis = axisBottom(x);\n\n    if (xType === 'time' && tickTimeDisplayFormat) {\n      axis\n        .tickFormat(timeFormat(tickTimeDisplayFormat));\n    }\n\n    if (xTickNumber) {\n      axis\n        .ticks(xTickNumber);\n    }\n\n    if (grid && verticalGrid) {\n      axis\n        .tickSize(-h, 6)\n        .tickPadding(15);\n    } else {\n      axis\n        .tickSize(0)\n        .tickPadding(15);\n    }\n\n    if (xTicks) {\n      axis\n        .ticks(xTicks);\n    }\n\n    return axis;\n  }\n\n  calculateYAxis({ y, innerW }) {\n    const {\n      grid,\n      yTicks,\n      yAxisOrientRight\n    } = this.props;\n\n    const axis = yAxisOrientRight ? axisRight(y) : axisLeft(y);\n\n    if (grid) {\n      axis\n        .tickSize(-innerW, 6)\n        .tickPadding(12);\n    } else {\n      axis\n        .tickPadding(10);\n    }\n\n    if (yTicks) {\n      axis\n        .ticks(yTicks);\n    }\n\n    return axis;\n  }\n\n  initialise() {\n    const {\n      axes\n    } = this.props;\n\n    const p = this.calculateChartParameters();\n\n    if (axes) {\n      this.initialiseXAxis(p);\n\n      this.initialiseYAxis(p);\n    }\n\n    this.initialiseChart(p);\n  }\n\n  initialiseXAxis({ xAxis }) {\n    this.getXAxis()\n      .call(xAxis);\n  }\n\n  initialiseYAxis({ yAxis }) {\n    this.getYAxis()\n      .call(yAxis);\n  }\n\n  initialiseChart({ x, y }) {\n    const {\n      data,\n      dotRadius,\n      xType,\n      mouseOverHandler,\n      mouseOutHandler,\n      mouseMoveHandler,\n      clickHandler\n    } = this.props;\n\n    const calculateDate = (v) => this.parseDate(v);\n\n    const calculateR = (d) => this.getRadius(data, d, dotRadius);\n    const calculateCX = (d) => (\n        (xType === 'time')\n          ? x(calculateDate(d.x))\n          : x(d.x));\n    const calculateCY = (d) => y(d.y);\n\n    const getFill = (d) => this.getFill(d);\n    const getStroke = (d) => this.getStroke(d);\n\n    const mouseOver = (d) => mouseOverHandler(d, lastEvent);\n    const mouseOut = (d) => mouseOutHandler(d, lastEvent);\n    const mouseMove = (d) => mouseMoveHandler(d, lastEvent);\n    const click = (d) => clickHandler(d, lastEvent);\n\n    const circle = this.getCircles()\n      .data(data);\n\n    circle\n      .enter()\n      .append('circle')\n      .attr('class', 'dot')\n      .attr('r', calculateR)\n      .attr('cx', calculateCX)\n      .attr('cy', calculateCY)\n      .style('fill', getFill)\n      .style('stroke', getStroke)\n      .on('mouseover', mouseOver)\n      .on('mouseout', mouseOut)\n      .on('mousemove', mouseMove)\n      .on('click', click);\n  }\n\n  transition() {\n    const {\n      axes\n    } = this.props;\n\n    const p = this.calculateChartParameters();\n\n    if (axes) {\n      this.transitionXAxis(p);\n\n      this.transitionYAxis(p);\n    }\n\n    this.transitionChart(p);\n  }\n\n  transitionXAxis({ xAxis }) {\n    this.getXAxis()\n      .transition()\n      .duration(750)\n      .call(xAxis);\n  }\n\n  transitionYAxis({ yAxis }) {\n    this.getYAxis()\n      .transition()\n      .duration(750)\n      .call(yAxis);\n  }\n\n  transitionChart({ x, y }) {\n    const {\n      data,\n      dotRadius,\n      xType,\n      mouseOverHandler,\n      mouseOutHandler,\n      mouseMoveHandler,\n      clickHandler\n    } = this.props;\n\n    const calculateDate = (v) => this.parseDate(v);\n\n    const calculateR = (d) => this.getRadius(data, d, dotRadius);\n    const calculateCX = (d) => (\n        (xType === 'time')\n          ? x(calculateDate(d.x))\n          : x(d.x));\n    const calculateCY = (d) => y(d.y);\n\n    const mouseOver = (d) => mouseOverHandler(d, lastEvent);\n    const mouseOut = (d) => mouseOutHandler(d, lastEvent);\n    const mouseMove = (d) => mouseMoveHandler(d, lastEvent);\n    const click = (d) => clickHandler(d, lastEvent);\n\n    const getFill = (d) => this.getFill(d);\n    const getStroke = (d) => this.getStroke(d);\n\n    const n = data.length;\n    const circle = this.getCircles()\n      .data(data);\n\n    if (n) {\n      circle\n        .transition()\n        .duration(750)\n        .attr('r', calculateR)\n        .attr('cx', calculateCX)\n        .attr('cy', calculateCY);\n\n      circle\n        .style('fill', getFill)\n        .style('stroke', getStroke)\n        .on('mouseover', mouseOver)\n        .on('mouseout', mouseOut)\n        .on('mousemove', mouseMove)\n        .on('click', click);\n\n      circle\n        .enter()\n        .append('circle')\n        .attr('class', 'dot')\n        .attr('r', calculateR)\n        .attr('cx', calculateCX)\n        .attr('cy', calculateCY)\n        .style('fill', getFill)\n        .style('stroke', getStroke)\n        .on('mouseover', mouseOver)\n        .on('mouseout', mouseOut)\n        .on('mousemove', mouseMove)\n        .on('click', click);\n    }\n\n    circle\n      .exit()\n      .remove();\n  }\n\n  createSvgNode({ m, w, h }) {\n    const node = new ReactFauxDOM.Element('svg');\n    node.setAttribute('width', w + m.left + m.right);\n    node.setAttribute('height', h + m.top + m.bottom);\n    return node;\n  }\n\n  createSvgRoot({ node, m }) {\n    return select(node)\n      .append('g')\n      .attr('transform', `translate(${m.left}, ${m.top})`);\n  }\n\n  createXAxis({ m, innerW, innerH, root }) {\n    const {\n      yAxisOrientRight,\n      axisLabels: { x: label }\n    } = this.props;\n\n    const uid = this.uid;\n\n    const group = root\n      .append('g')\n      .attr('class', 'x axis')\n      .attr('id', `scatterplot-x-axis-${uid}`)\n      .attr('transform', `translate(0, ${innerH})`);\n\n    if (label) {\n      group\n        .append('text')\n        .attr('class', 'label')\n        .attr('x',\n            (yAxisOrientRight)\n              ? 0\n              : innerW)\n        .attr('y', m.bottom + axisMargin)\n        .style('text-anchor',\n            (yAxisOrientRight)\n              ? 'start'\n              : 'end')\n        .text(label);\n    }\n  }\n\n  createYAxis({ m, innerW, root }) {\n    const {\n      yAxisOrientRight,\n      axisLabels: { y: label }\n    } = this.props;\n\n    const uid = this.uid;\n\n    const group = root\n      .append('g')\n      .attr('class', 'y axis')\n      .attr('id', `scatterplot-y-axis-${uid}`)\n      .attr('transform',\n        (yAxisOrientRight)\n          ? `translate(${innerW}, 0)`\n          : 'translate(0, 0)');\n\n    if (label) {\n      group\n        .append('text')\n        .attr('class', 'label')\n        .attr('transform', 'rotate(-90)')\n        .attr('y',\n          (yAxisOrientRight)\n            ? -25 + m.right\n            : 10 - m.left\n        )\n        .attr('dy', '.71em')\n        .style('text-anchor', 'end')\n        .text(label);\n    }\n  }\n\n  createScatterplotChart({ root }) {\n    const uid = this.uid;\n\n    root\n      .append('g')\n      .attr('id', `scatterplot-chart-${uid}`);\n  }\n\n  createStyle() {\n    const {\n      style,\n      grid,\n      verticalGrid,\n      yAxisOrientRight\n    } = this.props;\n\n    const uid = this.uid;\n    const scope = `.scatterplot-chart-${uid}`;\n    const axisStyles = getAxisStyles(grid, verticalGrid, yAxisOrientRight);\n    const rules = merge({}, defaultStyles, style, axisStyles);\n\n    return (\n      <Style\n        scopeSelector={scope}\n        rules={rules}\n      />\n    );\n  }\n\n  parseDate(v) {\n    const {\n      datePattern\n    } = this.props;\n\n    const datePatternParser = (\n      dateParser[datePattern] || (\n      dateParser[datePattern] = parse(datePattern)));\n\n    return datePatternParser(v);\n  }\n\n  calculateChartParameters() {\n    const {\n      axes,\n      data,\n      margin,\n      width,\n      height,\n      dotRadius,\n      xType,\n      yType,\n      xDomainRange,\n      yDomainRange,\n      yAxisOrientRight\n    } = this.props;\n\n    /*\n     * We could \"bind\"!\n     */\n    const parseDate = (v) => this.parseDate(v);\n\n    const m = margin || this.calculateMargin(axes, dotRadius * 2, yAxisOrientRight);\n    const w = width;\n    const h = height + (dotRadius * 3);\n\n    const innerW = this.calculateInnerW(width, m);\n    const innerH = this.calculateInnerH(height, m);\n\n    const defaultXDomainRange = calculateDomainRange(xDomainRange, xType, parseDate);\n    const defaultYDomainRange = calculateDomainRange(yDomainRange, yType, parseDate);\n\n    const x = this.createDomainRangeGenerator(\n      'x', defaultXDomainRange, data, xType, innerW, yAxisOrientRight);\n    const y = this.createDomainRangeGenerator(\n      'y', defaultYDomainRange, data, yType, innerH, yAxisOrientRight);\n\n    const xAxis = this.calculateXAxis({ m, h, x, innerW });\n    const yAxis = this.calculateYAxis({ m, y, innerW });\n\n    const node = this.createSvgNode({ m, w, h });\n    const root = this.createSvgRoot({ node, m });\n\n    return {\n      m,\n      w,\n      h,\n      innerW,\n      innerH,\n      x,\n      y,\n      xAxis,\n      yAxis,\n      node,\n      root\n    };\n  }\n\n  render() {\n    const {\n      axes\n    } = this.props;\n\n    const p = this.calculateChartParameters();\n\n    if (axes) {\n      this.createXAxis(p);\n\n      this.createYAxis(p);\n    }\n\n    this.createScatterplotChart(p);\n\n    const uid = this.uid;\n    const className = `scatterplot-chart-${uid}`;\n    const {\n      node\n    } = p;\n\n    return (\n      <div ref=\"scatterplotChart\" className={className}>\n        {this.createStyle()}\n        {node.toReact()}\n      </div>\n    );\n  }\n}\n"]}